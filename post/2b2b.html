<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Github+Hexo博客增添相册功能 | cungudafa</title><meta name="description" content="Hexo博客延展功能——制定个人相册"><meta name="keywords" content="图集"><meta name="author" content="cungudafa"><meta name="copyright" content="cungudafa"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="TJBY5AcW2i"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Github+Hexo博客增添相册功能"><meta name="twitter:description" content="Hexo博客延展功能——制定个人相册"><meta name="twitter:image" content="https://cdn.pixabay.com/photo/2013/12/30/07/58/photo-album-235603_1280.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Github+Hexo博客增添相册功能"><meta property="og:url" content="https://cungudafa.top/post/2b2b.html"><meta property="og:site_name" content="cungudafa"><meta property="og:description" content="Hexo博客延展功能——制定个人相册"><meta property="og:image" content="https://cdn.pixabay.com/photo/2013/12/30/07/58/photo-album-235603_1280.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://cungudafa.top/post/2b2b.html"><link rel="prev" title="为你的博客引入——今日诗词、每日一言（js插件分享）" href="https://cungudafa.top/post/3af9.html"><link rel="next" title="程序媛交友" href="https://cungudafa.top/post/adab.html"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://cungudafa.top/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="cungudafa" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">17</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-graduation-cap" aria-hidden="true"></i><span> 博文</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 生活</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 说说</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、图片的处理"><span class="toc-number">1.</span> <span class="toc-text">一、图片的处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、博客页面"><span class="toc-number">2.</span> <span class="toc-text">二、博客页面</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、其他配置"><span class="toc-number">3.</span> <span class="toc-text">三、其他配置</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://cdn.pixabay.com/photo/2013/12/30/07/58/photo-album-235603_1280.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">cungudafa</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-graduation-cap" aria-hidden="true"></i><span> 博文</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 生活</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 说说</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Github+Hexo博客增添相册功能</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-02-19 01:14:10"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-02-19</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-04-21 19:03:37"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-04-21</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/post/2b2b.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/post/2b2b.html" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><p>前言：hexo的sakura主题默认是不含有相册页面的,如果想添加此页面需自行编写<br>效果图预览，<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218212915690.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218212915690.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br>思路：<br>    不能把所有图片都放在source静态资源下，一是数据量太大，增加Hexo的负担（所以我们<strong>把图片放在github</strong>），二是加载高清大图片资源缓慢（所以我们用<strong>python对图片进行批量压缩处理</strong>），这样加载呈现压缩图，点击才加载原图。</p>
<p>本文参考于<a href="http://www.lawlite.me/2017/04/13/Hexo-Github%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">Hexo+Github实现相册功能作者：LawLite</a>，原文主要是思路，实践是有坑的，这又是一篇填坑的文章。</p>
<h1 id="一、图片的处理"><a href="#一、图片的处理" class="headerlink" title="一、图片的处理"></a>一、图片的处理</h1><ol>
<li><p>首先资源图片是是存放在GitHub上,你在github准备一个仓库。<br>我gihub名为cungudafa，仓库名为img，这里找到你的克隆地址，我的地址为：<br><code>https://github.com/cungudafa/img.git</code><br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218171128677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218171128677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a></p>
</li>
<li><p>本地准备一个文件夹来存储和管理图片(Git管理，需要提前安装)</p>
<ul>
<li>在电脑上随便一个位置创建一个新的文件夹，这里我创建文件夹名称叫<code>Blog_Album</code></li>
<li>然后打开git，cd到此文件夹执行<code>git clone https://github.com/cungudafa/img.git</code>命令克隆github上仓库。  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;你的github名&#x2F;仓库名.git</span><br></pre></td></tr></table></figure>
  克隆完毕在<code>Blog_Album</code>目录下就会有img这个文件夹（以下img都指这个目录也指我的github仓库名），里面有.git文件和其他图片资源。（我们后序用脚本快速处理相册，会使用到这个.git）</li>
<li>在img文件夹内新建一个文件夹<code>/photos</code> 在这里存放你需要放在博客中的图片。（存放名称格式如下：<code>2020-02-02_discriptionofyourpic.jpg</code>；最前面是日期，然后用_进行分隔；后面是图片的描述信息，注意不要包含_和.符号，最好也不要用中文命名）<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218172310727.png" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218172310727.png"  alt="在这里插入图片描述"></a><blockquote>
<p>附：python脚本（需要有python环境哦）快速处理图片命名：（下载<a href="https://github.com/cungudafa/img/blob/master/ImageRename.py" target="_blank" rel="noopener">ImageRename.py</a>，在cmd中运行<code>python ImageRename.py</code>,能快速在名称前加上最新一次修改日期）<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218142617687.png" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218142617687.png"  alt="在这里插入图片描述"></a></p>
</blockquote>
</li>
</ul>
</li>
<li><p>Hexo中我们的相册是采用ins样式显示的，为了快速加载显示图片，我们还需要制作<strong>图片的压缩图</strong>和<strong>图片的序列data.json</strong>。同样这里才用一个Python小脚本对图片进行压缩编辑，并且上传到自己的GitHub。</p>
<ul>
<li><p>下载脚本<a href="https://github.com/cungudafa/img/blob/master/ImageProcess.py" target="_blank" rel="noopener">ImageProcess.py</a>和<a href="https://github.com/cungudafa/img/blob/master/tools.py" target="_blank" rel="noopener">tool.py</a>文件至此文件夹内（Blog_Album\img）<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218173742522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218173742522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a></p>
<blockquote>
<p>说明：ImageProcess为裁剪方法，tools工具类；还创建了min_photos文件夹存放缩略图；json由tools脚本生成的，后面hexo用到的。</p>
</blockquote>
</li>
<li><p>运行tool.py脚本要安装python环境哦！(<code>python tool.py</code> 或者用Edit with IDLE也可以)<br>如果执行tool.py的时候如果没有PIL库的话会报错，安装即可。安装PIL只需在cmd中执行：<code>pip install Pillow</code>就可以了。</p>
<blockquote>
<p>其中，tools由<a href="http://www.lawlite.me/2017/04/13/Hexo-Github%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%86%8C%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">LawLite大牛编写，这里引用</a>；其中包含压缩图片，裁剪图片，github提交，json处理四个部分。（gihub提交部分需要把git.exe的位置（例：D:\mydownload\Git\bin）添加到path环境变量中去；由于我们是克隆的img项目，此时用到的就是.git提交，非常方便了！）</p>
</blockquote>
<p>  运行效果：<a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218180251313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218180251313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br>  已上传内容：<br>  <a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218180550129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218180550129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br>  <a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218180352313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218180352313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br>说明：执行后会生成<code>data.json</code>文件，此文件存储了图片的链接，名称和简介。</p>
</li>
</ul>
</li>
</ol>
<h1 id="二、博客页面"><a href="#二、博客页面" class="headerlink" title="二、博客页面"></a>二、博客页面</h1><ol>
<li><p>修改<code>themes\sakura\languages\zh-cn.yml</code>的photo：图集为相册</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">photos: 相册</span><br></pre></td></tr></table></figure></li>
<li><p>修改配置<code>themes\sakura\_config.yml</code>修改 图集: {path: /tags/图集/, fa: fa-photo }改为或添加相册</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">相册: &#123;path: &#x2F;photos&#x2F;, fa: fa-photo &#125;</span><br></pre></td></tr></table></figure>
<p> <a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218221055929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218221055929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a></p>
</li>
<li><p>在博客<strong>根目录</strong>下添加photo页面<code>hexo n page photos</code>，会在source下创建以下目录：<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218185812141.png" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218185812141.png"  alt="在这里插入图片描述"></a></p>
</li>
<li><p>把data.json复制到<code>\photos</code>下，为了方便，也可以修改tools.py的大约135行位置处，以后在运行脚本时，直接保存到此处：</p>
<pre><code><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 这里可以直接修改到你的hexo资源目录</span><br><span class="line">#with open(&quot;data.json&quot;,&quot;w&quot;) as fp:</span><br><span class="line">with open(&quot;D:&#x2F;myworkspace&#x2F;1GitHub_cungudafa&#x2F;MyWeb&#x2F;source&#x2F;photos&#x2F;data.json&quot;,&quot;w&quot;) as fp:</span><br><span class="line">   json.dump(final_dict, fp)</span><br><span class="line">    json.dump(final_dict, fp)</span><br></pre></td></tr></table></figure></code></pre></li>
<li><p>在photos中的 <a href="https://github.com/cungudafa/img/blob/master/js_css/index.md" target="_blank" rel="noopener">index.md</a> 加载相册内容部分。</p>
<blockquote>
<p>说明：原作者用的index.ejs（主题yilia），我修改到index.md中（主题是sakura），由此生成index.html；如果需要修改样式或添加内容，改这里即可。</p>
</blockquote>
</li>
<li><p>因为相册渲染用不到sakura主题，所以还需要额外添加css文件和js文件，<a href="https://github.com/cungudafa/img/tree/master/js_css" target="_blank" rel="noopener">我的样式链接js_css</a>，将js和css中的内容也复制到<code>MyWeb\source\photos</code>下；<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/202002182045087.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/202002182045087.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br> <strong>说明：</strong> （1）assets目录下放的是一张empty.png图片，原作者在ins.js中引用了此图片也没有特别说明，<a href="https://github.com/cungudafa/img/tree/master/js_css/assets" target="_blank" rel="noopener">我的链接</a>里给出来了，补坑；<br> <a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218220626748.png" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218220626748.png"  alt="在这里插入图片描述"></a><br> （其次，原作者的assets和photos同级目录，我放在photos目录里，特别修改了这两个位置，下载我的js已经修改过了。）<br> <a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218220210548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218220210548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br> <strong>特别修改：</strong> （2）自己动手，修改<code>ins.js</code>里大约在119行左右的链接修改为你的GitHub的仓库地址：（我的示例：<code>cungudafa/img</code>修改为<code>你的github名/你的github仓库名</code>）</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 需要修改https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;你的github名&#x2F;你的github仓库名&#x2F;master&#x2F;min_photos&#x2F;即可</span><br><span class="line">var minSrc &#x3D; &#39;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;cungudafa&#x2F;img&#x2F;master&#x2F;min_photos&#x2F;&#39; + data.link[i];</span><br><span class="line">var src &#x3D; &#39;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;cungudafa&#x2F;img&#x2F;master&#x2F;photos&#x2F;&#39; + data.link[i];</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>注意点：</code>确保你的图片地址是正确的，否则加载不出来，检测方法可以将选择一个图片地址看能不能再浏览器中打开。<br>如图是点击<code>download</code>下载后的链接，是<a href="https://raw.githubusercontent.com" target="_blank" rel="noopener">https://raw.githubusercontent.com</a> 开头的，不是图片的存储地址，否则加载不出。<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218211835624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218211835624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a></p>
</blockquote>
</li>
<li><p><code>hexo clean &amp;&amp;hexo g &amp;&amp;hexo s</code>直接生成<code>photos\index.html</code><br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200218212851245.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200218212851245.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br>到这里，博客相册功能已经实现了，本文已经结束！<br>点击可查看效果：<a href="https://cungudafa.gitee.io/photos/" target="_blank" rel="noopener">我的相册</a></p>
<blockquote>
<p>现在有个问题是不能<strong>点击查看大图</strong>！坑二：作者用的主题融合了photoswipe插件功能，其他主题或者任意html要想使用，还得单独导入相关css和js。</p>
</blockquote>
</li>
</ol>
<h1 id="三、其他配置"><a href="#三、其他配置" class="headerlink" title="三、其他配置"></a>三、其他配置</h1><ol>
<li><p>下载<a href="https://github.com/cungudafa/img/tree/master/js_css" target="_blank" rel="noopener">样式文件</a>（我的img图库已经很大了，不方便下载，这里给一个<a href="https://github.com/malizhigithub/HexoAlbumData/tree/master/JS&CSS" target="_blank" rel="noopener">前人的下载链接</a>）<br> 1.1 <code>photos</code>目录下添加<code>photoswipe.css</code>、<code>photoswipe-ui-default.min.js</code>、<code>photoswipe.min.js</code>，<br> 1.2 photos目录下新建<code>default-skin</code>目录，添加如下文件：<br><a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200219183819109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200219183819109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a><br> 1.3 在<code>source\photos\index.md</code>相册文件前加上样式：</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;ins.css&quot;&gt;</span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;photoswipe.css&quot;&gt; </span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;default-skin&#x2F;default-skin.css&quot;&gt; </span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;photoswipe.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;photoswipe-ui-default.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p> 查看大图：（手机端也适应哦！）<a data-fancybox="gallery" data-caption="在这里插入图片描述" href="https://img-blog.csdnimg.cn/20200219181405489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70" target="_blank" rel="noopener"><img data-action="zoom" src="/" class="lazyload" data-src="https://img-blog.csdnimg.cn/20200219181405489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N1bmd1ZGFmYQ==,size_16,color_FFFFFF,t_70"  alt="在这里插入图片描述"></a></p>
</li>
<li><p>如果想要全局都使用photoswipe效果的话，可以把js和css配置在theme主题中，在head、footer分别加上相应引入，额外还要添加一些配置哦：<a href="https://blog.csdn.net/lunsunhuan1825/article/details/96474155" target="_blank" rel="noopener">photoswipe 移动端PC端兼容图片相册预览</a> 。</p>
</li>
</ol>
<blockquote>
<p>给出一个教程<a href="https://me.idealli.com/post/73ad4183.html" target="_blank" rel="noopener">腾讯云+hexo搭建相册</a></p>
</blockquote>
<pre><code>现在项目相册部分完美！接下来是视频部分~~ 踩坑、填坑、学习记录 走起
ending~
更多小王的技术博客:[cungudafa-csdn](https://blog.csdn.net/cungudafa/article/details/104378416)</code></pre></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9B%BE%E9%9B%86/">图集</a></div><div class="post_share"><div class="social-share" data-image="https://img-blog.csdnimg.cn/20200416125943104.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/post/3af9.html"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/cungudafa/img/images/md/手写诗词.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">为你的博客引入——今日诗词、每日一言（js插件分享）</div></div></a></div><div class="next-post pull_right"><a href="/post/adab.html"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/cungudafa/img/images/girltwo.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">程序媛交友</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: 'false',
  verify: 'false',
  appId: 'cBzr9TtJ0xY0s6f3H8bpmB3M-gzGzoHsz',
  appKey: '3opMyv2Vyx3mHa0IWitRGSoi',
  placeholder: '你是我一生只会遇见一次的惊喜',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: true,
  serverURLs: '',
  emojiCDN:'//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/',
  emojiMaps:{
      smile:"e3/2018new_weixioa02_org.png",lovely:"09/2018new_keai_org.png",happy:"1e/2018new_taikaixin_org.png",clap:"6e/2018new_guzhang_thumb.png",whee:"33/2018new_xixi_thumb.png",haha:"8f/2018new_haha_thumb.png","laugh and cry":"4a/2018new_xiaoku_thumb.png",wink:"43/2018new_jiyan_org.png",greddy:"fa/2018new_chanzui_org.png",awkward:"a3/2018new_heixian_thumb.png",sweat:"28/2018new_han_org.png","pick nose":"9a/2018new_wabi_thumb.png",hum:"7c/2018new_heng_thumb.png",angry:"f6/2018new_nu_thumb.png",grievance:"a5/2018new_weiqu_thumb.png",poor:"96/2018new_kelian_org.png",disappoint:"aa/2018new_shiwang_thumb.png",sad:"ee/2018new_beishang_org.png",tear:"6e/2018new_leimu_org.png","no way":"83/2018new_kuxiao_org.png",shy:"c1/2018new_haixiu_org.png",dirt:"10/2018new_wu_thumb.png","love you":"f6/2018new_aini_org.png",kiss:"2c/2018new_qinqin_thumb.png",amorousness:"9d/2018new_huaxin_org.png",longing:"c9/2018new_chongjing_org.png",desire:"3e/2018new_tianping_thumb.png","bad laugh":"4d/2018new_huaixiao_org.png",blackness:"9e/2018new_yinxian_org.png","laugh without word":"2d/2018new_xiaoerbuyu_org.png",titter:"71/2018new_touxiao_org.png",cool:"c4/2018new_ku_org.png","not easy":"aa/2018new_bingbujiandan_thumb.png",think:"30/2018new_sikao_org.png",question:"b8/2018new_ningwen_org.png","no idea":"2a/2018new_wenhao_thumb.png",dizzy:"07/2018new_yun_thumb.png",bomb:"a2/2018new_shuai_thumb.png",bone:"a1/2018new_kulou_thumb.png","be quiet":"b0/2018new_xu_org.png","shut up":"62/2018new_bizui_org.png",stupid:"dd/2018new_shayan_org.png","surprise ":"49/2018new_chijing_org.png",vomit:"08/2018new_tu_org.png",cold:"40/2018new_kouzhao_thumb.png",sick:"3b/2018new_shengbing_thumb.png",bye:"fd/2018new_baibai_thumb.png","look down on":"da/2018new_bishi_org.png","white eye":"ef/2018new_landelini_org.png","left hum":"43/2018new_zuohengheng_thumb.png","right hum":"c1/2018new_youhengheng_thumb.png",crazy:"17/2018new_zhuakuang_org.png","scold ":"87/2018new_zhouma_thumb.png","hit on face":"cb/2018new_dalian_org.png",wow:"ae/2018new_ding_org.png",fan:"86/2018new_hufen02_org.png",money:"a2/2018new_qian_thumb.png",yawn:"55/2018new_dahaqian_org.png",sleepy:"3c/2018new_kun_thumb.png",sleep:"e2/2018new_shuijiao_thumb.png","watermelon ":"01/2018new_chigua_thumb.png",doge:"a1/2018new_doge02_org.png",dog:"22/2018new_erha_org.png",cat:"7b/2018new_miaomiao_thumb.png",thumb:"e6/2018new_zan_org.png",good:"8a/2018new_good_org.png",ok:"45/2018new_ok_org.png",yeah:"29/2018new_ye_thumb.png","shack hand":"e9/2018new_woshou_thumb.png",bow:"e7/2018new_zuoyi_org.png",come:"42/2018new_guolai_thumb.png",punch:"86/2018new_quantou_thumb.png"
  }
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By cungudafa</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://cungudafa.top/">blog</a>!</div><div class="icp"><a href="http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>渝ICP备19001829号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {
      pangu.spacingElementById('content-inner')
})</script><script src="/js/search/local-search.js"></script></body></html>